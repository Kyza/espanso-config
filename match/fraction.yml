matches:
   - regex: "frac(?P<top>\\d+)/(?P<bottom>\\d+)(?P<format>[fF]?);;"
     label: Reduce Fraction
     replace: "{{output}}"
     vars:
        - name: output
          type: script
          params:
             args:
                - deno
                - --quiet
                - run
                - --unstable
                - "{{kyzaconfig}}/scripts/fraction.ts"
                - "--top={{top}}"
                - "--bottom={{bottom}}"
                - "--format={{format}}"

   - regex: "frac;;"
     label: Reduce Fraction Form
     replace: "{{output}}"
     vars:
        - name: "form"
          type: "form"
          params:
             layout: |
                [[top]]
                [[bottom]]
             fields:
                format:
                   type: list
                   default: Plain
                   values:
                      - Plain
                      - Formatted
        - name: output
          type: script
          params:
             args:
                - deno
                - --quiet
                - run
                - --unstable
                - "{{kyzaconfig}}/scripts/fraction.ts"
                - "--top={{form.top}}"
                - "--bottom={{form.bottom}}"
                - "--format={{form.format}}"
